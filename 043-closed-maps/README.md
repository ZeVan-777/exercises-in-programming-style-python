# 闭域风格

## 约束

- 较大问题被分解为问题域相关的对象
- 每个对象是一个**键值映射**，其中某些值是过程函数
- 对象的方法引用对象自身的键，使得映射闭域

## 注解

闭域风格中，对象只是键值的简单映射。键与简单值的映射是对象的域，键与函数的映射是对象的方法。构造函数是最先被调用的方法，在这些简单对象中，**第三人称指代自身**。

闭域风格阐述了另一种基于对象编程 —— **原型**。这种特色OOP不存在类的概念，**每个对象都是独一无二的**，如 JavaScript 中的对象概念。其优点是对象实例化过程简单（对象拷贝），实例的真正独立则需要通过自身引用解决；扩展对象只需要在映射中加入或移除键即可；对象间的联系同样可以通过特定键完成。闭域风格的缺点在于**没有访问控制**，只能由程序员来使用约束。

## 发展历程

Self 语言发明于20世纪80年代后期，它首次将对象作为原型。Self 语言灵感主要源自 Smalltalk，但它**用原型取代了类，用代理取代了继承**。Self 还提出将对象视为“插槽”（能返回值的存取方法）的集合，利用消息来访问各种键。